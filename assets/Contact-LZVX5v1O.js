import{r as c,u as _,j as r,d as k,f as W,A as Y,k as z,l as X,n as Z,F as R,C as ee}from"./index-A8HXAbWN.js";import{C as se}from"./Container-1FsIPv8s.js";const H=W("h4");H.displayName="DivStyledAsH4";const T=c.forwardRef(({className:e,bsPrefix:s,as:t=H,...n},a)=>(s=_(s,"alert-heading"),r.jsx(t,{ref:a,className:k(e,s),...n})));T.displayName="AlertHeading";const te=T,E=c.forwardRef(({className:e,bsPrefix:s,as:t=Y,...n},a)=>(s=_(s,"alert-link"),r.jsx(t,{ref:a,className:k(e,s),...n})));E.displayName="AlertLink";const re=E,F=c.forwardRef((e,s)=>{const{bsPrefix:t,show:n=!0,closeLabel:a="Close alert",closeVariant:l,className:u,children:h,variant:i="primary",onClose:p,dismissible:d,transition:b=R,...j}=z(e,{show:"onClose"}),y=_(t,"alert"),w=X(x=>{p&&p(!1,x)}),g=b===!0?R:b,v=r.jsxs("div",{role:"alert",...g?void 0:j,ref:s,className:k(u,y,i&&`${y}-${i}`,d&&`${y}-dismissible`),children:[d&&r.jsx(Z,{onClick:w,"aria-label":a,variant:l}),h]});return g?r.jsx(g,{unmountOnExit:!0,...j,ref:void 0,in:n,children:v}):n?v:null});F.displayName="Alert";const ae=Object.assign(F,{Link:re,Heading:te}),A=c.forwardRef(({bsPrefix:e,variant:s,animation:t="border",size:n,as:a="div",className:l,...u},h)=>{e=_(e,"spinner");const i=`${e}-${t}`;return r.jsx(a,{ref:h,...u,className:k(l,i,n&&`${i}-${n}`,s&&`text-${s}`)})});A.displayName="Spinner";const ne=A,m={origin:"https://api.emailjs.com",blockHeadless:!1},S=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},ie=(e,s="https://api.emailjs.com")=>{if(!e)return;const t=S(e);m.publicKey=t.publicKey,m.blockHeadless=t.blockHeadless,m.blockList=t.blockList,m.limitRate=t.limitRate,m.origin=t.origin||s};class N{constructor(s=0,t="Network Error"){this.status=s,this.text=t}}const $=async(e,s,t={})=>{const n=await fetch(m.origin+e,{method:"POST",headers:t,body:s}),a=await n.text(),l=new N(n.status,a);if(n.ok)return l;throw l},V=(e,s,t)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},oe=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},D=e=>e.webdriver||!e.languages||e.languages.length===0,K=()=>new N(451,"Unavailable For Headless Browser"),le=(e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},ce=e=>{var s;return!((s=e.list)!=null&&s.length)||!e.watchVariable},me=(e,s)=>e instanceof FormData?e.get(s):e[s],M=(e,s)=>{if(ce(e))return!1;le(e.list,e.watchVariable);const t=me(s,e.watchVariable);return typeof t!="string"?!1:e.list.includes(t)},O=()=>new N(403,"Forbidden"),ue=(e,s)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a string"},de=(e,s,t)=>{const n=Number(t.getItem(e)||0);return s-Date.now()+n},C=(e,s,t)=>{setTimeout(()=>{t.removeItem(e)},s)},B=(e,s,t)=>{if(!t.throttle)return!1;ue(t.throttle,t.id);const n=t.id||s,a=de(n,t.throttle,e);return a>0?(C(n,a,e),!0):(e.setItem(n,Date.now().toString()),C(n,t.throttle,e),!1)},I=()=>new N(429,"Too Many Requests"),he=(e,s,t,n)=>{const a=S(n),l=a.publicKey||m.publicKey,u=a.blockHeadless||m.blockHeadless,h={...m.blockList,...a.blockList},i={...m.limitRate,...a.limitRate};return u&&D(navigator)?Promise.reject(K()):(V(l,e,s),oe(t),t&&M(h,t)?Promise.reject(O()):B(localStorage,location.pathname,i)?Promise.reject(I()):$("/api/v1.0/email/send",JSON.stringify({lib_version:"4.1.0",user_id:l,service_id:e,template_id:s,template_params:t}),{"Content-type":"application/json"}))},fe=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},pe=e=>typeof e=="string"?document.querySelector(e):e,be=(e,s,t,n)=>{const a=S(n),l=a.publicKey||m.publicKey,u=a.blockHeadless||m.blockHeadless,h={...m.blockList,...a.blockList},i={...m.limitRate,...a.limitRate};if(u&&D(navigator))return Promise.reject(K());const p=pe(t);V(l,e,s),fe(p);const d=new FormData(p);return M(h,d)?Promise.reject(O()):B(localStorage,location.pathname,i)?Promise.reject(I()):(d.append("lib_version","4.1.0"),d.append("service_id",e),d.append("template_id",s),d.append("user_id",l),$("/api/v1.0/email/send-form",d))},ge={init:ie,send:he,sendForm:be},je="service_4shtwlk",ye="template_5fppyu9",xe="KsyGU70NY-acwiiQ7",we=()=>{const[e,s]=c.useState({user_name:"",user_email:"",message:""}),[t,n]=c.useState(null),[a,l]=c.useState({}),[u,h]=c.useState(!1),[i,p]=c.useState(null),[d,b]=c.useState(!0),[j,y]=c.useState(null),w=c.useRef(),{language:g}=c.useContext(ee),v=async()=>{try{b(!0);let o;if(g=="es"?o=await fetch("./json/contact.json"):o=await fetch("./json/contact_en.json"),!o.ok)throw new Error(`Error: ${o.statusText}`);const f=await o.json();p(f)}catch(o){b(!1),y(o.message)}finally{b(!1)}};c.useEffect(()=>{v()},[g]);const x=o=>{const{name:f,value:Q}=o.target;s({...e,[f]:Q})},P=()=>{const o={};return e.user_name.trim()||(o.user_name=i.user_name_error),e.user_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.user_email)||(o.user_email=i.user_email_error_valid):o.user_email=i.user_email_error,e.message.trim()||(o.message=i.error_message),l(o),Object.keys(o).length===0},L=(o,f)=>r.jsx(ae,{variant:o,className:"mb-4",children:f}),q=()=>L("success",i.success_message),U=()=>L("danger",i.danger_menssage),J=()=>{s({user_name:"",user_email:"",message:""})},G=async o=>{if(o.preventDefault(),P()&&!u){h(!0);try{const f=await ge.sendForm(je,ye,w.current,xe);console.log(i.response_success,f),n(200),J()}catch(f){console.error(i.reponse_error,f),n(500)}finally{h(!1)}}};return d?r.jsx("div",{children:"Loading..."}):j?r.jsxs("div",{children:["Error: ",j]}):r.jsxs(se,{fluid:!0,className:"vh-100",children:[r.jsx("h1",{className:"mt-4 mb-4 text-center",children:i.title}),r.jsxs("div",{className:"contact-form",children:[t===200&&q(),t===500&&U(),r.jsxs("form",{ref:w,onSubmit:G,children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{className:"label",children:[i.name,":"]}),r.jsx("input",{className:"input",type:"text",name:"user_name",value:e.user_name,onChange:x}),a.user_name&&r.jsx("div",{className:"text-danger",children:a.user_name})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{className:"label",children:[i.email,":"]}),r.jsx("input",{className:"input",type:"email",name:"user_email",value:e.user_email,onChange:x}),a.user_email&&r.jsx("div",{className:"text-danger",children:a.user_email})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{className:"label",children:[i.message,":"]}),r.jsx("textarea",{className:"textarea",name:"message",value:e.message,onChange:x}),a.message&&r.jsx("div",{className:"text-danger",children:a.message})]}),r.jsx("button",{className:"button",type:"submit",disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx(ne,{animation:"border",size:"sm",className:"mr-2"}),"Sending..."]}):i.button})]})]})]})},ve=we;function Ne(){return r.jsx("div",{children:r.jsx(ve,{})})}export{Ne as default};
